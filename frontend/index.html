<!DOCTYPE html>
<html lang="pt-br">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Gestou </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <style>
        /* Efeito visual de destaque ao passar o mouse nos cards de produtos*/
        /* Mantém o carrinho visível na tela enquanto o usuário rola o catálogo */
        /* Indica visualmente que os links da navbar são clicáveis */
        .card-produto:hover { transform: scale(1.02); transition: 0.2s; }
        .carrinho-fixo { position: sticky; top: 20px; }
        .nav-link { cursor: pointer; }
    </style>

</head>
<body class="bg-light">
    <div id="app">

        <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4 shadow">

            <div class="container">

                <a class="navbar-brand fw-bold" href="#" @click="abaAtiva = 'pedido'">GESTOU SPA</a>

                <div class="collapse navbar-collapse">

                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                        <li class="nav-item"><a class="nav-link" :class="{active: abaAtiva === 'pedido'}" @click="abaAtiva = 'pedido'">Realizar Pedido</a></li>

                        <li class="nav-item"><a class="nav-link" :class="{active: abaAtiva === 'cadastrarProduto'}" @click="abaAtiva = 'cadastrarProduto'">Cadastrar Produto</a></li>

                        <li class="nav-item"><a class="nav-link" :class="{active: abaAtiva === 'cadastrarCliente'}" @click="abaAtiva = 'cadastrarCliente'">Cadastrar Cliente</a></li>

                        <li class="nav-item"><a class="nav-link" :class="{active: abaAtiva === 'gerenciarProdutos'}" @click="abaAtiva = 'gerenciarProdutos'">Gerenciar Produtos</a></li>

                        <li class="nav-item"><a class="nav-link" :class="{active: abaAtiva === 'historico'}" @click="irParaHistorico">Pedidos</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container pb-5">
            <comp-pedido v-if="abaAtiva === 'pedido'"
                :produtos="produtos" 
                :clientes="clientes" 
                :carrinho="carrinho" 
                :filtro="filtro" 
                :total-carrinho="totalCarrinho" 
                :selected-customer-id="selectedCustomerId" 
                @add="adicionarAoCarrinho" 
                @remove="removerDoCarrinho" 
                @finalizar="finalizarPedido" 
                @update:customer-id="selectedCustomerId = $event">
            </comp-pedido>
            
            <comp-cadastro-produto v-if="abaAtiva === 'cadastrarProduto'" 
                :novo-produto="novoProduto" 
                @salvar="salvarProduto">
            </comp-cadastro-produto>
            
            <comp-cadastro-cliente v-if="abaAtiva === 'cadastrarCliente'" 
                :novo-cliente="novoCliente" 
                @salvar="salvarCliente">
            </comp-cadastro-cliente>
            
            <comp-gerenciar-produtos v-if="abaAtiva === 'gerenciarProdutos'"
                :todos-produtos="todosProdutos" 
                @editar="prepararEdicao" 
                @novo="abaAtiva = 'cadastrarProduto'">
            </comp-gerenciar-produtos>
            
            <comp-editar-produto v-if="abaAtiva === 'editarProduto'" 
                :produto="produtoParaEditar" 
                @cancelar="abaAtiva = 'gerenciarProdutos'" 
                @atualizar="atualizarProduto">
            </comp-editar-produto>
            
            <comp-historico v-if="abaAtiva === 'historico'" 
                :pedidos="pedidos" 
                @pagar="registrarPagamento">
            </comp-historico>
        </div>
    </div>

    <script src="components/pedido.js"></script>
    <script src="components/cadastro-produto.js"></script>
    <script src="components/cadastro-cliente.js"></script>
    <script src="components/gerenciar-produtos.js"></script>
    <script src="components/editar-produto.js"></script>
    <script src="components/historico.js"></script>
    
    <script src="app.js"></script>
</body>
</html>